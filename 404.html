<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>404 â€” CFS Terminal</title>

<!-- Font -->
<link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <link rel="icon" href="icons/icon.png" />

</head>
<body>

<!-- MATRIX BACKGROUND CANVAS -->
<canvas id="matrix-canvas"></canvas>

<!-- CRT OVERLAYS -->
<div class="crt-scanlines"></div>
<div class="crt-overlay"></div>

<!-- ASCII BORDER -->
<div class="ascii-frame">
    <div class="ascii-top">+-----------------------------------------------------------+</div>
    <div class="ascii-bottom">+-----------------------------------------------------------+</div>
</div>

<!-- BOOT SCREEN -->
<div id="boot-screen" class="boot-container">
    <div class="boot-text" id="boot-text">
        <!-- Boot sequence inserted by JS -->
    </div>
</div>

<!-- TERMINAL WRAPPER -->
<div id="terminal-wrapper" class="terminal-wrapper hidden">

    <!-- RED ALERT BANNERS -->
    <div id="alert-banner" class="alert-banner hidden">
        <div class="alert-text" id="alert-text">INTRUSION DETECTED â€” SYSTEM OVERRIDE</div>
    </div>

    <!-- TRACE PROGRESS BAR -->
    <div id="trace-container" class="trace-container hidden">
        <div class="trace-label">TRACE PROGRESS</div>
        <div class="trace-bar">
            <div id="trace-progress" class="trace-progress"></div>
        </div>
        <div id="trace-percent" class="trace-percent">0%</div>
    </div>

    <!-- TERMINAL OUTPUT -->
    <div id="terminal" class="terminal">
        <div id="terminal-output"></div>

        <!-- INPUT LINE -->
        <div id="terminal-input-line" class="terminal-input-line">
            <span id="terminal-prompt" class="terminal-prompt">cfs@CFS-Terminal:~$</span>
            <span id="terminal-input" class="terminal-input"></span>
            <span class="cursor" id="cursor"></span>
        </div>
    </div>
</div>

<!-- FILE SUGGESTION LIST -->
<div id="file-suggestions" class="file-suggestions hidden"></div>

<!-- AUDIO ELEMENTS -->
<audio id="audio-startup" src="https://assets.mixkit.co/sfx/download/mixkit-retro-video-game-notification-234.wav"></audio>
<audio id="audio-type" src="https://assets.mixkit.co/sfx/download/mixkit-classic-click-1117.wav"></audio>
<audio id="audio-siren" src="https://assets.mixkit.co/sfx/download/mixkit-police-siren-us-1640.wav" loop></audio>
<audio id="audio-error" src="https://assets.mixkit.co/sfx/download/mixkit-arcade-retro-game-over-213.wav"></audio>
<style>

/* -------------------------------------------------
   GLOBAL + RESET
------------------------------------------------- */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html, body {
    width: 100%;
    height: 100%;
    overflow: hidden;
    background: black;
    font-family: 'VT323', monospace;
    color: #00faff;
}

/* -------------------------------------------------
   MATRIX BACKGROUND CANVAS
------------------------------------------------- */
#matrix-canvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
}

/* -------------------------------------------------
   CRT EFFECTS
------------------------------------------------- */
.crt-scanlines {
    position: fixed;
    inset: 0;
    pointer-events: none;
    background: repeating-linear-gradient(
        to bottom,
        rgba(255,255,255,0.04) 0px,
        rgba(255,255,255,0.04) 1px,
        transparent 2px,
        transparent 4px
    );
    z-index: 20;
    opacity: 0.12;
    animation: scanlineMove 1.2s linear infinite;
}

@keyframes scanlineMove {
    0% { background-position: 0 -4px; }
    100% { background-position: 0 0; }
}

.crt-overlay {
    position: fixed;
    inset: -10%;
    pointer-events: none;
    background: radial-gradient(circle, transparent 65%, rgba(0,0,0,0.6));
    z-index: 21;
}

/* -------------------------------------------------
   ASCII BORDER FRAME
------------------------------------------------- */
.ascii-frame {
    position: fixed;
    inset: 20px;
    pointer-events: none;
    z-index: 40;
    color: #00faff;
    font-size: 18px;
    text-align: center;
}

.ascii-top {
    position: absolute;
    top: -20px;
    left: 50%;
    transform: translateX(-50%);
}

.ascii-bottom {
    position: absolute;
    bottom: -20px;
    left: 50%;
    transform: translateX(-50%);
}

/* -------------------------------------------------
   BOOT SCREEN
------------------------------------------------- */
.boot-container {
    position: absolute;
    inset: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 50;
    background: black;
}

.boot-text {
    color: #00faff;
    font-size: 24px;
    white-space: pre;
    text-shadow: 0 0 8px #00faff;
}

/* -------------------------------------------------
   TERMINAL WINDOW
------------------------------------------------- */
.terminal-wrapper {
    position: relative;
    z-index: 100;
    padding: 40px;
    width: 100%;
    height: 100%;
    backdrop-filter: blur(2px);
}

.terminal {
    font-size: 22px;
    line-height: 1.4em;
    color: #00faff;
}

.terminal-output {
    white-space: pre-wrap;
}

.terminal-input-line {
    display: flex;
    font-size: 22px;
    margin-top: 10px;
}

.terminal-prompt {
    color: #00faff;
}

.terminal-input {
    margin-left: 8px;
    color: #fff;
}

/* -------------------------------------------------
   CURSOR
------------------------------------------------- */
.cursor {
    width: 10px;
    height: 22px;
    background: #ff006e;
    margin-left: 3px;
    animation: blink 0.8s steps(1) infinite;
}

@keyframes blink {
    50% { opacity: 0; }
}

/* -------------------------------------------------
   HIDDEN UTILITY
------------------------------------------------- */
.hidden {
    display: none !important;
}

/* -------------------------------------------------
   FILE SUGGESTION LIST
------------------------------------------------- */
.file-suggestions {
    position: absolute;
    bottom: 20px;
    left: 40px;
    padding: 20px;
    background: rgba(0,0,0,0.6);
    border: 1px solid #00faff;
    box-shadow: 0 0 10px #00faff;
    color: #00faff;
    font-size: 20px;
    z-index: 200;
}

.file-suggestions a {
    color: #ff006e;
    text-decoration: none;
}

.file-suggestions a:hover {
    text-shadow: 0 0 6px #ff006e;
}
.terminal-wrapper {
    overflow: auto; /* allow terminal scrolling */
}
/* -------------------------------------------------
   TRACE PROGRESS BAR
------------------------------------------------- */
.trace-container {
    position: absolute;
    top: 20px;
    right: 40px;
    background: rgba(255,0,0,0.15);
    padding: 15px;
    border: 1px solid red;
    box-shadow: 0 0 10px red;
    z-index: 300;
    width: 300px;
}

.trace-label {
    font-size: 18px;
    color: red;
    margin-bottom: 8px;
}

.trace-bar {
    width: 100%;
    height: 18px;
    border: 1px solid red;
    background: rgba(255,0,0,0.2);
}

.trace-progress {
    height: 100%;
    width: 0%;
    background: red;
    box-shadow: 0 0 6px red;
}

.trace-percent {
    text-align: right;
    font-size: 16px;
    color: #ff8080;
    margin-top: 5px;
}

/* -------------------------------------------------
   ALERT MODE (SEVERE)
------------------------------------------------- */
.alert-banner {
    position: absolute;
    top: 0;
    width: 100%;
    padding: 20px;
    text-align: center;
    background: rgba(255,0,0,0.4);
    border-bottom: 2px solid red;
    z-index: 350;
    display: none;
}

.alert-text {
    color: white;
    font-size: 28px;
    text-shadow: 0 0 10px red;
    animation: alertFlash 0.4s infinite alternate;
}

@keyframes alertFlash {
    0% { opacity: 0.2; }
    100% { opacity: 1; }
}

/* Severe shake */
.shake {
    animation: severeShake 0.08s infinite;
}

@keyframes severeShake {
    0% { transform: translate(0,0); }
    25% { transform: translate(-8px, 5px); }
    50% { transform: translate(10px, -5px); }
    75% { transform: translate(-6px, 8px); }
    100% { transform: translate(0,0); }
}

/* Red tint overlay */
.alert-tint {
    position: fixed;
    inset: 0;
    background: rgba(255,0,0,0.08);
    z-index: 500;
    pointer-events: none;
    animation: tintPulse 0.4s infinite alternate;
}

@keyframes tintPulse {
    0% { opacity: 0.05; }
    100% { opacity: 0.3; }
}

/* Distortion scan */
.alert-distort {
    position: fixed;
    inset: 0;
    pointer-events: none;
    background: repeating-linear-gradient(
        to bottom,
        rgba(255,0,0,0.08) 0px,
        rgba(255,0,0,0.08) 2px,
        transparent 3px,
        transparent 6px
    );
    animation: distortMove 0.3s linear infinite;
    z-index: 510;
}

@keyframes distortMove {
    0% { background-position: 0 -10px; }
    100% { background-position: 0 0; }
}

/* -------------------------------------------------
   GLITCH TEXT
------------------------------------------------- */
.glitch {
    animation: glitchPulse 0.15s infinite;
}

@keyframes glitchPulse {
    0% { text-shadow: 0 0 4px red; }
    50% { text-shadow: 0 0 12px red; }
    100% { text-shadow: 0 0 4px red; }
}


</style>
<script>
/* ----------------------------
   GLOBAL ELEMENT REFERENCES
---------------------------- */
const bootScreen = document.getElementById('boot-screen');
const bootText = document.getElementById('boot-text');

const terminalWrapper = document.getElementById('terminal-wrapper');
const terminalOutput = document.getElementById('terminal-output');
const terminalInput = document.getElementById('terminal-input');
const cursor = document.getElementById('cursor');

const traceContainer = document.getElementById('trace-container');
const traceProgress = document.getElementById('trace-progress');
const tracePercent = document.getElementById('trace-percent');

const alertBanner = document.getElementById('alert-banner');
const alertText = document.getElementById('alert-text');

const matrixCanvas = document.getElementById('matrix-canvas');
const ctx = matrixCanvas.getContext('2d');

const audioStartup = document.getElementById('audio-startup');
const audioType = document.getElementById('audio-type');
const audioSiren = document.getElementById('audio-siren');
const audioError = document.getElementById('audio-error');

const fileSuggestions = document.getElementById('file-suggestions');

/* ----------------------------
   MATRIX EFFECT SETUP
---------------------------- */
let columns;
let drops = [];
let fontSize = 16;

function resizeMatrix() {
    matrixCanvas.width = window.innerWidth;
    matrixCanvas.height = window.innerHeight;
    columns = Math.floor(matrixCanvas.width / fontSize);
    drops = Array(columns).fill(1);
}

window.addEventListener('resize', resizeMatrix);
resizeMatrix();

const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*()*&^%';

function drawMatrix() {
    ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
    ctx.fillRect(0, 0, matrixCanvas.width, matrixCanvas.height);
    ctx.fillStyle = '#00FF00';
    ctx.font = fontSize + 'px VT323';

    for (let i = 0; i < drops.length; i++) {
        const text = letters.charAt(Math.floor(Math.random() * letters.length));
        ctx.fillText(text, i * fontSize, drops[i] * fontSize);

        if (drops[i] * fontSize > matrixCanvas.height && Math.random() > 0.975) {
            drops[i] = 0;
        }

        drops[i]++;
    }
}

setInterval(drawMatrix, 33);

/* ----------------------------
   BOOT SEQUENCE
---------------------------- */
const bootLines = [
    "CFS Terminal v4.0",
    "SYSTEM INITIALIZING...",
    "LOADING CORE MODULES...",
    "CHECKING SECURITY...",
    "NETWORK SYNCHRONIZATION...",
    "BOOT SEQUENCE COMPLETE",
];

function bootSequence() {
    let i = 0;
    function typeNextLine() {
        if (i < bootLines.length) {
            bootText.textContent += bootLines[i] + '\n';
            audioType.currentTime = 0; audioType.play();
            i++;
            setTimeout(typeNextLine, 500);
        } else {
            audioStartup.currentTime = 0; audioStartup.play();
            setTimeout(() => {
                bootScreen.classList.add('hidden');
                terminalWrapper.classList.remove('hidden');
                terminalInput.focus();
            }, 600);
        }
    }
    typeNextLine();
}

bootSequence();

/* ----------------------------
   TERMINAL ENGINE
---------------------------- */
let commandHistory = [];
let historyIndex = 0;

let fakeFilesystem = [
    '/'
];

function appendOutput(text, isError = false) {
    const div = document.createElement('div');
    div.textContent = text;
    if (isError) div.style.color = '#FF006E';
    terminalOutput.appendChild(div);
    terminalOutput.scrollTo({ top: terminalOutput.scrollHeight, behavior: 'smooth' });
}

function showFileSuggestions() {
    fileSuggestions.innerHTML = '<strong>Files you may be looking for: will be found on the homepage</strong><br>';
    fakeFilesystem.forEach(file => {
        const a = document.createElement('a');
        a.href = '/';
        a.textContent = "[RETURN TO HOMEPAGE]";
        fileSuggestions.appendChild(a);
        fileSuggestions.appendChild(document.createElement('br'));
    });
    fileSuggestions.classList.remove('hidden');
}

function triggerRedAlert() {
    alertBanner.classList.remove('hidden');
    document.body.classList.add('shake');
    const tint = document.createElement('div');
    tint.classList.add('alert-tint');
    document.body.appendChild(tint);
    const distort = document.createElement('div');
    distort.classList.add('alert-distort');
    document.body.appendChild(distort);

    audioSiren.currentTime = 0;
    audioSiren.play();
    setTimeout(() => {
        window.location.href = '/'; // or your homepage URL
    }, 5000);
}

function traceProgressBar(callback) {
    traceContainer.classList.remove('hidden');
    let progress = 0;
    const interval = setInterval(() => {
        progress += Math.floor(Math.random() * 4) + 1;
        if (progress > 100) progress = 100;
        traceProgress.style.width = progress + '%';
        tracePercent.textContent = progress + '%';
        if (progress >= 100) {
            clearInterval(interval);
            setTimeout(() => callback(), 500);
        }
    }, 120);
}

/* ----------------------------
   COMMAND PARSER
---------------------------- */
function parseCommand(input) {
    input = input.trim().toLowerCase();
    appendOutput(`cfs@CFS-Terminal:~$ ${input}`);

    if (!input) return;

if (input === 'help') {
    const commands = {
        'help': 'List all available commands',
        'reboot': 'Reboot the terminal',
        'logs': 'Show system logs',
        'clear': 'Clear the terminal screen',
        'override security': 'Initiate security override',
        'files': 'Show file suggestions',
        'shutdown': 'Shut down the system',
        'whoami': 'Show current user',
        'hostname': 'Show terminal hostname',
        'date': 'Show current date',
        'time': 'Show current time',
        'echo': 'Echo text back',
        'calc': 'Evaluate math expression',
        'encrypt': 'Encrypt text',
        'decrypt': 'Decrypt text',
        'joke': 'Tell a joke',
        'quote': 'Show a motivational quote',
        'version': 'Show terminal version',
        'settings': 'Show current settings',
        'theme': 'Change terminal theme',
        'color': 'Change terminal text color',
        'music': 'Play or stop music',
        'surprise': 'Show a surprise',
        'virus scan': 'Scan for viruses',
        'firewall status': 'Show firewall status',
        'password hint': 'Show password hint',
        'api test': 'Test API connection',
        'credits': 'Show credits',
        'contact': 'Show contact info',
        'social': 'Show social links',
        'joke me': 'Tell a programmer joke',
        'motivate': 'Motivational tip',
        'tip': 'Quick terminal tip',
        'news': 'Show news',
        'weather': 'Show weather',
        'alarm': 'Set an alarm (alarm HH:MM)',
        'calendar': 'Show calendar events',
        'clear logs': 'Clear logs',
        'list files': 'List available files',
        'network status': 'Show network status',
        'system info': 'Show system information',
        'uptime': 'Show system uptime',
        'memory': 'Show RAM usage',
        'cpu': 'Show CPU load',
        'disk': 'Show disk usage',
        'clear cache': 'Clear cache',
        'ping': 'Ping a host (ping host)',
        'traceroute': 'Trace route to host (traceroute host)',
        'download': 'Download a file (download file)',
        'upload': 'Upload a file (upload file)',
        'redirect': 'Redirect to a URL (redirect url)',
        'list' : 'List all of the files inside the website',
        'open' : 'Open a file'
    };

    appendOutput('Available commands:');
    for (const cmd in commands) {
        appendOutput(`- ${cmd}: ${commands[cmd]}`);
    }
}
    else if (input.startsWith('redirect ')) {
    const url = input.split(' ')[1];
    if (url) {
        appendOutput(`Redirecting to ${url}...`);
        setTimeout(() => { window.location.href = url; }, 1000);
    } else appendOutput('Usage: redirect [url]', true);
}
else if (input === 'list files') {
    appendOutput('Available files:');
    appendOutput('- secrets.txt');
    appendOutput('- config.sys');
    appendOutput('- logs.log');
    appendOutput('- notes.md');
}
    else if (input === 'open' + input.replace("open ", "") {
        let file = input.replace("open ", "");
        appendOutput("Openning " + file + "...");
        setTimeout(function () {
            window.location.href = "/" + file;
        }, 1000)
}
else if (input === 'network status') {
    appendOutput('Network Status: Connected');
    appendOutput('IP: 192.168.1.42');
    appendOutput('Gateway: 192.168.1.1');
}
else if (input === 'system info') {
    appendOutput('System: CFS-Terminal v4.0');
    appendOutput('OS: CFS-OS 1.2.3');
    appendOutput('CPU: Quantum Core X1');
}
else if (input === 'uptime') {
    appendOutput('System uptime: 3 days, 7 hours, 42 minutes');
}
else if (input === 'memory') {
    appendOutput('RAM Usage: 3.2 GB / 8 GB');
}
else if (input === 'cpu') {
    appendOutput('CPU Load: 17%');
}
else if (input === 'disk') {
    appendOutput('Disk Usage: 72 GB / 256 GB');
}
else if (input === 'clear cache') {
    appendOutput('Cache cleared successfully');
}
else if (input.startsWith('ping ')) {
    const host = input.split(' ')[1];
    appendOutput(`Pinging ${host}...`);
    setTimeout(() => appendOutput(`Reply from ${host}: bytes=32 time=42ms TTL=128`), 500);
}
else if (input.startsWith('traceroute ')) {
    const host = input.split(' ')[1];
    appendOutput(`Tracing route to ${host}...`);
    appendOutput('1 192.168.1.1 1ms');
    appendOutput('2 10.0.0.1 5ms');
    appendOutput(`3 ${host} 42ms`);
}
else if (input.startsWith('download ')) {
    const file = input.split(' ')[1];
    appendOutput(`Downloading ${file}...`);
    setTimeout(() => appendOutput('Download complete'), 1000);
}
else if (input.startsWith('upload ')) {
    const file = input.split(' ')[1];
    appendOutput(`Uploading ${file}...`);
    setTimeout(() => appendOutput('Upload complete'), 1000);
}
else if (input === 'shutdown') {
    appendOutput('Shutting down...');
    setTimeout(() => appendOutput('Goodbye!'), 1000);
    window.location.href = '/'
}
else if (input === 'whoami') appendOutput('cfs');
else if (input === 'hostname') appendOutput('CFS-Terminal');
else if (input === 'date') appendOutput(new Date().toLocaleDateString());
else if (input === 'time') appendOutput(new Date().toLocaleTimeString());
else if (input.startsWith('echo ')) appendOutput(input.slice(5));
else if (input.startsWith('calc ')) {
    try {
        const result = eval(input.slice(5));
        appendOutput(`Result: ${result}`);
    } catch {
        appendOutput('Invalid expression', true);
    }
}
else if (input.startsWith('encrypt ')) appendOutput('Encrypted: ' + btoa(input.slice(8)));
else if (input.startsWith('decrypt ')) appendOutput('Decrypted: ' + atob(input.slice(8)));
else if (input === 'joke') appendOutput('Why did the hacker break up with the internet? Too many cookies!');
else if (input === 'quote') appendOutput('â€œStay hungry, stay foolish.â€ â€“ Steve Jobs');
else if (input === 'version') appendOutput('CFS Terminal v4.0');
else if (input === 'settings') appendOutput('Settings: Default');
else if (input.startsWith('theme ')) appendOutput(`Theme switched to ${input.slice(6)}`);
else if (input.startsWith('color ')) appendOutput(`Terminal text color changed to ${input.slice(6)}`);
else if (input.startsWith('music ')) {
    const action = input.split(' ')[1];
    if (action === 'play') audioStartup.play();
    else if (action === 'stop') audioStartup.pause();
}
else if (input === 'surprise') appendOutput('ðŸ’¥ SURPRISE! ðŸ’¥');
else if (input === 'virus scan') {
    appendOutput('Scanning for viruses...');
    setTimeout(() => appendOutput('No threats detected'), 1500);
}
else if (input === 'firewall status') appendOutput('Firewall: Active');
else if (input === 'password hint') appendOutput('Hint: The usual...');
else if (input === 'api test') appendOutput('API Response: {status: 200, message: "OK"}');
else if (input === 'credits') appendOutput('CFS Terminal developed by OpenAI + You');
else if (input === 'contact') appendOutput('Contact: support@cfs-terminal.com');
else if (input === 'social') appendOutput('Twitter: @CFSTerminal | GitHub: github.com/cfs-terminal');
else if (input === 'joke me') appendOutput('Why do programmers prefer dark mode? Because light attracts bugs!');
else if (input === 'motivate') appendOutput('Keep pushing forward. You got this!');
else if (input === 'tip') appendOutput('Tip: Save your work frequently.');
else if (input === 'news') appendOutput('Breaking: CFS Terminal conquers cyberspace!');
else if (input === 'weather') appendOutput('Weather: 22Â°C, partly cloudy');
else if (input.startsWith('alarm ')) appendOutput(`Alarm set for ${input.slice(6)}`);
else if (input === 'calendar') appendOutput('Calendar: No events scheduled');
else if (input === 'clear logs') terminalOutput.innerHTML = '';
    else if (input === 'list') {
    appendOutput('Fetching file list...');
    
    // Replace these with your GitHub username and repository
    const username = 'codeformatstudio';
    const repo = 'codeformatstudio.github.io';
    const branch = 'main'; // or 'master'

    const apiUrl = `https://api.github.com/repos/${username}/${repo}/contents/?ref=${branch}`;

    fetch(apiUrl)
        .then(response => {
            if (!response.ok) throw new Error('Failed to fetch repository contents');
            return response.json();
        })
        .then(data => {
            if (data.length === 0) {
                appendOutput('No files found in the repository.');
            } else {
                appendOutput('Files in the repository:');
                data.forEach(file => appendOutput('- ' + file.name));
            }
        })
        .catch(err => appendOutput(`Error: ${err.message}`, true));
}


    else if (input === 'reboot') {
        appendOutput('Rebooting system...');
        location.reload();
    }
    else if (input === 'clear') {
        terminalOutput.innerHTML = '';
    }
    else if (input === 'logs') {
        appendOutput('System Logs:');
        appendOutput('- Boot sequence OK');
        appendOutput('- No threats detected');
        appendOutput('- All systems nominal');
    }
    else if (input === 'files') {
        showFileSuggestions();
    }
    else if (input === 'override security' || input === 'override' || input === 'security override') {
        appendOutput('> Initiating security override...');
        appendOutput('> Establishing uplink...');
        appendOutput('> Beginning trace countermeasure...');
        traceProgressBar(triggerRedAlert);
    }
    else {
        appendOutput(`Command not found: ${input}`, true);
        audioError.currentTime = 0;
        audioError.play();
    }
}

/* ----------------------------
   TERMINAL INPUT HANDLING
---------------------------- */
let currentInput = '';

document.addEventListener('keydown', (e) => {
    if (terminalWrapper.classList.contains('hidden')) return;

    if (e.key.length === 1 && !e.ctrlKey && !e.metaKey) {
        currentInput += e.key;
        terminalInput.textContent = currentInput;
        audioType.currentTime = 0;
        audioType.play();
    }
    else if (e.key === 'Backspace') {
        currentInput = currentInput.slice(0, -1);
        terminalInput.textContent = currentInput;
        audioType.currentTime = 0;
        audioType.play();
    }
    else if (e.key === 'Enter') {
        parseCommand(currentInput);
        commandHistory.push(currentInput);
        historyIndex = commandHistory.length;
        currentInput = '';
        terminalInput.textContent = '';
    }
    else if (e.key === 'ArrowUp') {
        if (historyIndex > 0) historyIndex--;
        currentInput = commandHistory[historyIndex] || '';
        terminalInput.textContent = currentInput;
    }
    else if (e.key === 'ArrowDown') {
        if (historyIndex < commandHistory.length - 1) historyIndex++;
        else historyIndex = commandHistory.length;
        currentInput = commandHistory[historyIndex] || '';
        terminalInput.textContent = currentInput;
    }
    else if (currentInput.startsWith('redirect ')) {
    const url = currentInput.split(' ')[1];
    if (url) {
        appendOutput(`Redirecting to ${url}...`);
        setTimeout(() => { window.location.href = url; }, 1000);
    } else appendOutput('Usage: redirect [url]', true);
}
else if (currentInput === 'list files') {
    appendOutput('Available files:');
    appendOutput('- secrets.txt');
    appendOutput('- config.sys');
    appendOutput('- logs.log');
    appendOutput('- notes.md');
}
else if (currentInput === 'network status') {
    appendOutput('Network Status: Connected');
    appendOutput('IP: 192.168.1.42');
    appendOutput('Gateway: 192.168.1.1');
}
else if (currentInput === 'system info') {
    appendOutput('System: CFS-Terminal v4.0');
    appendOutput('OS: CFS-OS 1.2.3');
    appendOutput('CPU: Quantum Core X1');
}
else if (currentInput === 'uptime') {
    appendOutput('System uptime: 3 days, 7 hours, 42 minutes');
}
else if (currentInput === 'memory') {
    appendOutput('RAM Usage: 3.2 GB / 8 GB');
}
else if (currentInput === 'cpu') {
    appendOutput('CPU Load: 17%');
}
else if (currentInput === 'disk') {
    appendOutput('Disk Usage: 72 GB / 256 GB');
}
else if (currentInput === 'clear cache') {
    appendOutput('Cache cleared successfully');
}
else if (currentInput.startsWith('ping ')) {
    const host = currentInput.split(' ')[1];
    appendOutput(`Pinging ${host}...`);
    setTimeout(() => appendOutput(`Reply from ${host}: bytes=32 time=42ms TTL=128`), 500);
}
else if (currentInput.startsWith('traceroute ')) {
    const host = currentInput.split(' ')[1];
    appendOutput(`Tracing route to ${host}...`);
    appendOutput('1 192.168.1.1 1ms');
    appendOutput('2 10.0.0.1 5ms');
    appendOutput(`3 ${host} 42ms`);
}
else if (currentInput.startsWith('download ')) {
    const file = currentInput.split(' ')[1];
    appendOutput(`Downloading ${file}...`);
    setTimeout(() => appendOutput('Download complete'), 1000);
}
else if (currentInput.startsWith('upload ')) {
    const file = currentInput.split(' ')[1];
    appendOutput(`Uploading ${file}...`);
    setTimeout(() => appendOutput('Upload complete'), 1000);
}
else if (currentInput === 'shutdown') {
    appendOutput('Shutting down...');
    setTimeout(() => appendOutput('Goodbye!'), 1000);
    window.location.href = '/'
}
else if (currentInput === 'whoami') appendOutput('cfs');
else if (currentInput === 'hostname') appendOutput('CFS-Terminal');
else if (currentInput === 'date') appendOutput(new Date().toLocaleDateString());
else if (currentInput === 'time') appendOutput(new Date().toLocaleTimeString());
else if (currentInput.startsWith('echo ')) appendOutput(currentInput.slice(5));
else if (currentInput.startsWith('calc ')) {
    try {
        const result = eval(currentInput.slice(5));
        appendOutput(`Result: ${result}`);
    } catch {
        appendOutput('Invalid expression', true);
    }
}
else if (currentInput.startsWith('encrypt ')) appendOutput('Encrypted: ' + btoa(currentInput.slice(8)));
else if (currentInput.startsWith('decrypt ')) appendOutput('Decrypted: ' + atob(currentInput.slice(8)));
else if (currentInput === 'joke') appendOutput('Why did the hacker break up with the internet? Too many cookies!');
else if (currentInput === 'quote') appendOutput('â€œStay hungry, stay foolish.â€ â€“ Steve Jobs');
else if (currentInput === 'version') appendOutput('CFS Terminal v4.0');
else if (currentInput === 'settings') appendOutput('Settings: Default');
else if (currentInput.startsWith('theme ')) appendOutput(`Theme switched to ${currentInput.slice(6)}`);
else if (currentInput.startsWith('color ')) appendOutput(`Terminal text color changed to ${currentInput.slice(6)}`);
else if (currentInput.startsWith('music ')) {
    const action = currentInput.split(' ')[1];
    if (action === 'play') audioStartup.play();
    else if (action === 'stop') audioStartup.pause();
}
else if (currentInput === 'surprise') appendOutput('ðŸ’¥ SURPRISE! ðŸ’¥');
else if (currentInput === 'virus scan') {
    appendOutput('Scanning for viruses...');
    setTimeout(() => appendOutput('No threats detected'), 1500);
}
else if (currentInput === 'firewall status') appendOutput('Firewall: Active');
else if (currentInput === 'password hint') appendOutput('Hint: The usual...');
else if (currentInput === 'api test') appendOutput('API Response: {status: 200, message: "OK"}');
else if (currentInput === 'credits') appendOutput('CFS Terminal developed by OpenAI + You');
else if (currentInput === 'contact') appendOutput('Contact: support@cfs-terminal.com');
else if (currentInput === 'social') appendOutput('Twitter: @CFSTerminal | GitHub: github.com/cfs-terminal');
else if (currentInput === 'joke me') appendOutput('Why do programmers prefer dark mode? Because light attracts bugs!');
else if (currentInput === 'motivate') appendOutput('Keep pushing forward. You got this!');
else if (currentInput === 'tip') appendOutput('Tip: Save your work frequently.');
else if (currentInput === 'news') appendOutput('Breaking: CFS Terminal conquers cyberspace!');
else if (currentInput === 'weather') appendOutput('Weather: 22Â°C, partly cloudy');
else if (currentInput.startsWith('alarm ')) appendOutput(`Alarm set for ${currentInput.slice(6)}`);
else if (currentInput === 'calendar') appendOutput('Calendar: No events scheduled');
else if (currentInput === 'clear logs') terminalOutput.innerHTML = '';
    else if (currentInput === 'list') {
    appendOutput('Fetching file list...');
    
    // Replace these with your GitHub username and repository
    const username = 'codeformatstudio';
    const repo = 'codeformatstudio.github.io';
    const branch = 'main'; // or 'master'

    const apiUrl = `https://api.github.com/repos/${username}/${repo}/contents/?ref=${branch}`;

    fetch(apiUrl)
        .then(response => {
            if (!response.ok) throw new Error('Failed to fetch repository contents');
            return response.json();
        })
        .then(data => {
            if (data.length === 0) {
                appendOutput('No files found in the repository.');
            } else {
                appendOutput('Files in the repository:');
                data.forEach(file => appendOutput('- ' + file.name));
            }
        })
        .catch(err => appendOutput(`Error: ${err.message}`, true));
}


});

/* ----------------------------
   INITIAL FILE SUGGESTION
---------------------------- */
showFileSuggestions();

</script>

<!-- SCRIPT BLOCK (CSS + JS delivered next messages) -->
</body>
</html>
